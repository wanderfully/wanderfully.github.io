<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>wander</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="wanderfully.club/"/>
  <updated>2019-05-22T08:54:00.783Z</updated>
  <id>wanderfully.club/</id>
  
  <author>
    <name>wander</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>react中px转rem或vw</title>
    <link href="wanderfully.club/2019/05/22/react%E4%B8%ADpx%E8%BD%ACrem%E6%88%96vw/"/>
    <id>wanderfully.club/2019/05/22/react中px转rem或vw/</id>
    <published>2019-05-22T07:32:22.000Z</published>
    <updated>2019-05-22T08:54:00.783Z</updated>
    
    <content type="html"><![CDATA[<!-- 已经写好的文章在对应的md文件头部添加top：{number}即可 数值越大优先级越高 --><h3 id="一、px转rem"><a href="#一、px转rem" class="headerlink" title="一、px转rem"></a>一、px转rem</h3><h4 id="执行显示webpack配置"><a href="#执行显示webpack配置" class="headerlink" title="执行显示webpack配置"></a>执行显示webpack配置</h4><p><code>npm run eject</code></p><h4 id="安装-postcss-px2rem-exclude、lib-flexible、sass-loader、node-sass"><a href="#安装-postcss-px2rem-exclude、lib-flexible、sass-loader、node-sass" class="headerlink" title="安装 postcss-px2rem-exclude、lib-flexible、sass-loader、node-sass"></a>安装 postcss-px2rem-exclude、lib-flexible、sass-loader、node-sass</h4><p><code>npm insatll lib-flexible sass-loader node-sass postcss-px2rem-exclude --save</code></p><h4 id="修改webpack-config-js-先引入postcss-px2rem-exclude-然后在postcss-loader的plugins中加入"><a href="#修改webpack-config-js-先引入postcss-px2rem-exclude-然后在postcss-loader的plugins中加入" class="headerlink" title="修改webpack.config.js,先引入postcss-px2rem-exclude,然后在postcss-loader的plugins中加入"></a>修改webpack.config.js,先引入postcss-px2rem-exclude,然后在postcss-loader的plugins中加入</h4><p><code>const px2rem = require(&#39;postcss-px2rem-exclude&#39;);</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    loader: <span class="built_in">require</span>.resolve(<span class="string">'postcss-loader'</span>),</span><br><span class="line">    options: &#123;</span><br><span class="line">        ident: <span class="string">'postcss'</span>,</span><br><span class="line">        plugins: <span class="function"><span class="params">()</span> =&gt;</span> [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">'postcss-flexbugs-fixes'</span>),</span><br><span class="line">        autoprefixer(&#123;</span><br><span class="line">            browsers: [</span><br><span class="line">            <span class="string">'&gt;1%'</span>,</span><br><span class="line">            <span class="string">'last 4 versions'</span>,</span><br><span class="line">            <span class="string">'Firefox ESR'</span>,</span><br><span class="line">            <span class="string">'not ie &lt; 9'</span>, <span class="comment">// React doesn't support IE8 anyway</span></span><br><span class="line">            ],</span><br><span class="line">            flexbox: <span class="string">'no-2009'</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">    <span class="comment">//px2rem加在这里</span></span><br><span class="line">        px2rem(&#123;</span><br><span class="line">            remUnit:<span class="number">75</span>,<span class="attr">exclude</span>: <span class="regexp">/node_modules/i</span></span><br><span class="line">        &#125;)</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p><h4 id="在react入口文件引入lib-flexible"><a href="#在react入口文件引入lib-flexible" class="headerlink" title="在react入口文件引入lib-flexible"></a>在react入口文件引入lib-flexible</h4><p><code>import &quot;lib-flexible&quot;</code></p><h4 id="修改index-html-禁止缩放"><a href="#修改index-html-禁止缩放" class="headerlink" title="修改index.html 禁止缩放"></a>修改index.html 禁止缩放</h4><p><code>&lt;meta content=&quot;width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot; name=&quot;viewport&quot; /&gt;</code></p><h4 id="完成后重启才能生效"><a href="#完成后重启才能生效" class="headerlink" title="完成后重启才能生效"></a>完成后重启才能生效</h4><p><code>npm start</code></p><h3 id="二、px转vw"><a href="#二、px转vw" class="headerlink" title="二、px转vw"></a>二、px转vw</h3><h4 id="安装需要的插件"><a href="#安装需要的插件" class="headerlink" title="安装需要的插件"></a>安装需要的插件</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -D postcss-<span class="keyword">import</span> postcss-url cssnano-preset-advanced </span><br><span class="line">npm install -S postcss-aspect-ratio-mini postcss-px-to-viewport postcss-write-svg postcss-cssnext cssnano postcss-viewport-units</span><br></pre></td></tr></table></figure><h4 id="index-html修改禁止缩放"><a href="#index-html修改禁止缩放" class="headerlink" title="index.html修改禁止缩放"></a>index.html修改禁止缩放</h4><p><code>&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1, user-scalable=no,width=device-width&quot;&gt;</code></p><h4 id="新建配置文件-postcssrc-js-并配置"><a href="#新建配置文件-postcssrc-js-并配置" class="headerlink" title="新建配置文件 .postcssrc.js 并配置"></a>新建配置文件 .postcssrc.js 并配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="string">"plugins"</span>: &#123;</span><br><span class="line">    <span class="string">"postcss-import"</span>: &#123;&#125;,</span><br><span class="line">    <span class="string">"postcss-url"</span>: &#123;&#125;,</span><br><span class="line">    <span class="string">"postcss-aspect-ratio-mini"</span>: &#123;&#125;,</span><br><span class="line">    <span class="string">"postcss-write-svg"</span>: &#123;</span><br><span class="line">      utf8: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"postcss-cssnext"</span>: &#123;&#125;,</span><br><span class="line">    <span class="string">"postcss-px-to-viewport"</span>: &#123;</span><br><span class="line">      viewportWidth: <span class="number">750</span>,</span><br><span class="line">      viewportHeight: <span class="number">1334</span>, <span class="comment">// (Number) The height of the viewport. </span></span><br><span class="line">      unitPrecision: <span class="number">3</span>, <span class="comment">// (Number) The decimal numbers to allow the REM units to grow to. </span></span><br><span class="line">      viewportUnit: <span class="string">'vw'</span>, <span class="comment">// (String) Expected units. </span></span><br><span class="line">      selectorBlackList: [<span class="string">'.ignore'</span>, <span class="string">'.hairlines'</span>], <span class="comment">// (Array) The selectors to ignore and leave as px. </span></span><br><span class="line">      minPixelValue: <span class="number">1</span>, <span class="comment">// (Number) Set the minimum pixel value to replace. </span></span><br><span class="line">      mediaQuery: <span class="literal">false</span> <span class="comment">// (Boolean) Allow px to be converted in media queries.</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"postcss-viewport-units"</span>: &#123;&#125;,</span><br><span class="line">    <span class="string">"cssnano"</span>: &#123;</span><br><span class="line">      preset: <span class="string">"advanced"</span>,</span><br><span class="line">      autoprefixer: <span class="literal">false</span>,</span><br><span class="line">      <span class="string">"postcss-zindex"</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="vw的兼容处理（有些手机不支持vw单位）"><a href="#vw的兼容处理（有些手机不支持vw单位）" class="headerlink" title="vw的兼容处理（有些手机不支持vw单位）"></a>vw的兼容处理（有些手机不支持vw单位）</h4><p><code>npm install viewport-units-buggyfill --save</code></p><p>在项目入口处（如main.js）引入<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hacks = <span class="built_in">require</span>(‘viewport-units-buggyfill.hacks‘);</span><br><span class="line"><span class="built_in">require</span>(‘viewport-units-buggyfill‘).init(&#123;</span><br><span class="line">    hacks: hacks</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>或者在index.html中引入并初始化<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"//g.alicdn.com/fdilab/lib3rd/viewport-units-buggyfill/0.6.2/??viewport-units-buggyfill.hacks.min.js,viewport-units-buggyfill.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">window</span>.viewportUnitsBuggyfill.init(&#123;</span><br><span class="line">        hacks: <span class="built_in">window</span>.viewportUnitsBuggyfillHacks</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">`</span></span><br></pre></td></tr></table></figure></p><h4 id="在webpack-config-js中引入并在-postcss-loader-中使用插件"><a href="#在webpack-config-js中引入并在-postcss-loader-中使用插件" class="headerlink" title="在webpack.config.js中引入并在 postcss-loader 中使用插件"></a>在webpack.config.js中引入并在 postcss-loader 中使用插件</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> postcssAspectRatioMini = <span class="built_in">require</span>(<span class="string">'postcss-aspect-ratio-mini'</span>)</span><br><span class="line"><span class="keyword">const</span> postcssPxToViewport = <span class="built_in">require</span>(<span class="string">'postcss-px-to-viewport'</span>)</span><br><span class="line"><span class="keyword">const</span> postcssWriteSvg = <span class="built_in">require</span>(<span class="string">'postcss-write-svg'</span>)</span><br><span class="line"><span class="keyword">const</span> postcssCssnext = <span class="built_in">require</span>(<span class="string">'postcss-cssnext'</span>)</span><br><span class="line"><span class="keyword">const</span> postcssViewportUnits = <span class="built_in">require</span>(<span class="string">'postcss-viewport-units'</span>)</span><br><span class="line"><span class="keyword">const</span> cssnano = <span class="built_in">require</span>(<span class="string">'cssnano'</span>)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    loader: <span class="built_in">require</span>.resolve(<span class="string">'postcss-loader'</span>),</span><br><span class="line">    options: &#123;</span><br><span class="line">      <span class="comment">// Necessary for external CSS imports to work</span></span><br><span class="line">      <span class="comment">// https://github.com/facebookincubator/create-react-app/issues/2677</span></span><br><span class="line">      ident: <span class="string">'postcss'</span>,</span><br><span class="line">      plugins: <span class="function"><span class="params">()</span> =&gt;</span> [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">'postcss-flexbugs-fixes'</span>),</span><br><span class="line">        autoprefixer(&#123;</span><br><span class="line">          browsers: [</span><br><span class="line">            <span class="string">'&gt;1%'</span>,</span><br><span class="line">            <span class="string">'last 4 versions'</span>,</span><br><span class="line">            <span class="string">'Firefox ESR'</span>,</span><br><span class="line">            <span class="string">'not ie &lt; 9'</span> <span class="comment">// React doesn't support IE8 anyway</span></span><br><span class="line">          ],</span><br><span class="line">          flexbox: <span class="string">'no-2009'</span></span><br><span class="line">        &#125;),</span><br><span class="line">        postcssAspectRatioMini(&#123;&#125;),</span><br><span class="line">        postcssPxToViewport(&#123;</span><br><span class="line">          viewportWidth: <span class="number">750</span>, <span class="comment">// (Number) The width of the viewport.</span></span><br><span class="line">          viewportHeight: <span class="number">1334</span>, <span class="comment">// (Number) The height of the viewport.</span></span><br><span class="line">          unitPrecision: <span class="number">3</span>, <span class="comment">// (Number) The decimal numbers to allow the REM units to grow to.</span></span><br><span class="line">          viewportUnit: <span class="string">'vw'</span>, <span class="comment">// (String) Expected units.</span></span><br><span class="line">          selectorBlackList: [<span class="string">'.ignore'</span>, <span class="string">'.hairlines'</span>], <span class="comment">// (Array) The selectors to ignore and leave as px.</span></span><br><span class="line">          minPixelValue: <span class="number">1</span>, <span class="comment">// (Number) Set the minimum pixel value to replace.</span></span><br><span class="line">          mediaQuery: <span class="literal">false</span> <span class="comment">// (Boolean) Allow px to be converted in media queries.</span></span><br><span class="line">        &#125;),</span><br><span class="line">        postcssWriteSvg(&#123;</span><br><span class="line">          utf8: <span class="literal">false</span></span><br><span class="line">        &#125;),</span><br><span class="line">        postcssCssnext(&#123;&#125;),</span><br><span class="line">        postcssViewportUnits(&#123;&#125;),</span><br><span class="line">        cssnano(&#123;</span><br><span class="line">          preset: <span class="string">'advanced'</span>,</span><br><span class="line">          autoprefixer: <span class="literal">false</span>,</span><br><span class="line">          <span class="string">'postcss-zindex'</span>: <span class="literal">false</span></span><br><span class="line">        &#125;)</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="重启后生效"><a href="#重启后生效" class="headerlink" title="重启后生效"></a>重启后生效</h4><p><code>npm start</code></p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- 已经写好的文章在对应的md文件头部添加top：{number}即可 数值越大优先级越高 --&gt;
&lt;h3 id=&quot;一、px转rem&quot;&gt;&lt;a href=&quot;#一、px转rem&quot; class=&quot;headerlink&quot; title=&quot;一、px转rem&quot;&gt;&lt;/a&gt;一、px转rem&lt;
      
    
    </summary>
    
      <category term="React" scheme="wanderfully.club/categories/React/"/>
    
    
      <category term="react" scheme="wanderfully.club/tags/react/"/>
    
      <category term="webpack" scheme="wanderfully.club/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>微信小程序路由跳转</title>
    <link href="wanderfully.club/2019/05/20/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%B0%8F%E5%9D%91/"/>
    <id>wanderfully.club/2019/05/20/微信小程序小坑/</id>
    <published>2019-05-20T09:54:52.000Z</published>
    <updated>2019-05-22T07:37:45.189Z</updated>
    
    <content type="html"><![CDATA[<!-- 已经写好的文章在对应的md文件头部添加top：{number}即可 数值越大优先级越高 --><h3 id="一、navigateTo和redirectTo"><a href="#一、navigateTo和redirectTo" class="headerlink" title="一、navigateTo和redirectTo"></a>一、navigateTo和redirectTo</h3><p>&emsp;当使用 <strong>wx.navigateTo</strong>（打开新页面） 和 <strong>wx.redirectTo</strong>（页面重定向）的时候只能打开非tabBar的页面，所以路由tabBar的页面是打不开的。</p><h3 id="二、switchTab"><a href="#二、switchTab" class="headerlink" title="二、switchTab"></a>二、switchTab</h3><p>&emsp;使用<strong>wx.switchTab</strong>只能打开tabBar的页面。</p><h3 id="三、relunach"><a href="#三、relunach" class="headerlink" title="三、relunach"></a>三、relunach</h3><p>&emsp;使用<strong>relunach</strong>可以打开任何页面。</p><h3 id="四、tabBar"><a href="#四、tabBar" class="headerlink" title="四、tabBar"></a>四、tabBar</h3><p>&emsp;页面底部的 tabBar 由页面决定，即只要是定义为 tabBar 的页面，底部都有 tabBar。</p><h3 id="五、路由带的参数"><a href="#五、路由带的参数" class="headerlink" title="五、路由带的参数"></a>五、路由带的参数</h3><p>&emsp;调用页面路由带的参数可以在目标页面的onLoad中获取。</p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- 已经写好的文章在对应的md文件头部添加top：{number}即可 数值越大优先级越高 --&gt;
&lt;h3 id=&quot;一、navigateTo和redirectTo&quot;&gt;&lt;a href=&quot;#一、navigateTo和redirectTo&quot; class=&quot;headerlink&quot; 
      
    
    </summary>
    
      <category term="微信小程序" scheme="wanderfully.club/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    
      <category term="路由" scheme="wanderfully.club/tags/%E8%B7%AF%E7%94%B1/"/>
    
  </entry>
  
</feed>
